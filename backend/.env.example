# ============================================
# APPLICATION
# ============================================
NODE_ENV=development
PORT=3000

# ============================================
# DATABASE
# ============================================
DATABASE_URL="postgresql://postgres:postgres@localhost:5432/rebased?schema=public"

# ============================================
# REDIS
# ============================================
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=

# ============================================
# JWT AUTHENTICATION
# ============================================
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production
JWT_EXPIRES_IN=7d

# ============================================
# BLOCKCHAIN - MONAD TESTNET
# ============================================
# You can use public RPC or Alchemy: https://testnet-rpc.monad.xyz
MONAD_RPC_URL=https://testnet-rpc.monad.xyz
MONAD_CHAIN_ID=10143
MONAD_START_BLOCK=0

# Contract addresses (REDEPLOYED 2025-10-17 - Clean Deployment)
MONAD_REGISTRY=0xD2D554C6CCC071c84696a37Fb97A377E7426bA7A
MONAD_EXECUTOR=0x4986DC56206C1bf061C376e1F1706d6498dfD50D
MONAD_ORACLE=0xD705648251CaaeE2c9653A9E079DA1ef3D477285
MONAD_UNISWAP_HELPER=0x485086A79d5aECD8de04E383227D43d575c75C2D
MONAD_CONFIG=0x2A530D32D59CEaCFFdc9c071e29735A9E9955F61
MONAD_DELEGATION_MANAGER=0xdb9B1e94B5b69Df7e401DDbedE43491141047dB3

# ============================================
# BLOCKCHAIN - BASE SEPOLIA
# ============================================
# You can use public RPC or Alchemy: https://base-sepolia.g.alchemy.com/v2/YOUR-API-KEY
BASE_RPC_URL=https://sepolia.base.org
BASE_CHAIN_ID=84532
BASE_START_BLOCK=0

# Contract addresses (DEPLOYED 2025-10-24 - Bot Authorization v1.4.0)
BASE_REGISTRY=0xC3196C8c08EaBcc0C70494F3CAD42C8e64B229aD
BASE_EXECUTOR=0x47F004c6e31B8783a17EdFc42211fd136e9C5030
BASE_ORACLE=0x324b6E527ffc765B2A2Fd6B9133dA0FF8d31d6Fc
BASE_UNISWAP_HELPER=0x992ED7c0c95f50837dF3ED4822006159E04d16CC
BASE_CONFIG=0x7E2fcCDC61240f60fE6bDDC7074d07CB6d3E871B
BASE_DELEGATION_MANAGER=0x0b3abc9f2d6e8ad9cDE628918A4b0f061210Ad56

# Base Sepolia Uniswap V2 Addresses
UNISWAP_V2_ROUTER_BASE=0x1689E7B1F10000AE47eBfE339a4f69dECd19F602
UNISWAP_V2_FACTORY_BASE=0x7Ae58f10f7849cA6F5fB71b7f45CB416c9204b1e

# ============================================
# BLOCKCHAIN - BASE MAINNET
# ============================================
# You can use public RPC or Alchemy: https://base-mainnet.g.alchemy.com/v2/YOUR-API-KEY
BASE_MAINNET_RPC_URL=https://mainnet.base.org
BASE_MAINNET_CHAIN_ID=8453
BASE_MAINNET_START_BLOCK=0

# Contract addresses (DEPLOYED 2025-10-24 - Bot Authorization v1.4.0)
BASE_MAINNET_REGISTRY=0x051790142C92E55C88d45469419CBC74735bDec5
BASE_MAINNET_EXECUTOR=0xE5937713Ed44977dBBBdFF63aDab110e2A8aFF57
BASE_MAINNET_ORACLE=0x3727aa26BFA5b995A17551425d3cDDce24df9f10
BASE_MAINNET_UNISWAP_HELPER=0x32ff846b58baf82Ad30f64756D3a069d0AdBf707
BASE_MAINNET_CONFIG=0xCC7EB3C51b19E14b3B39996c673a596274115090
BASE_MAINNET_DELEGATION_MANAGER=0xB7270af90e6Bac6daD609f7B46E45D727A73aEB0

# Base Mainnet Uniswap V2 Addresses (from deployment)
UNISWAP_V2_ROUTER_BASE_MAINNET=0xfB8e1C3b833f9E67a71C859a132cf783b645e436
UNISWAP_V2_FACTORY_BASE_MAINNET=0x733E88f248b742db6C14C0b1713Af5AD7fDd59D0

# ============================================
# DELEGATION ARCHITECTURE (v1.4.0)
# ============================================
# New delegation strategy (2025-10-24):
# - Specific delegate: RebalanceExecutor (NOT ANY_DELEGATE)
# - Bot authorization: Only authorized bot EOA can call contract
# - Timestamp: 1 year expiry (no usage limits)
# Security: Bot auth + Business logic + Delegation signature

# ============================================
# BOT CONFIGURATION
# ============================================
# Bot must be authorized on RebalanceExecutor contract via setBotAuthorization()
BOT_PRIVATE_KEY=your_bot_private_key_here
MONITORING_INTERVAL=100000
MAX_SLIPPAGE_BPS=100
GAS_REIMBURSEMENT=0.01

# Gas Settings
MAX_GAS_PRICE=500000000000
GAS_PRICE_MULTIPLIER=1.1

# Debug mode: Send real transactions to see event logs before revert
# WARNING: This will cost gas! Only use for debugging.
DEBUG_REBALANCE=false

# Delegation Debugging Levels (for testing delegation execution step-by-step)
# 0 = Full rebalance (PRODUCTION - default)
# 1 = Test strategy ownership only (view call - no transaction)
# 2 = Test delegation no-op (tests signature validation + delegation framework)
# 3 = Test delegation approval (tests delegation + ERC20 approval)
# 4 = Test delegation transfer (tests delegation + token movement)
# 5 = Test delegation single swap (tests delegation + approval + one swap)
# Use: Start at L1 and increase until you find the failure point
DEBUG_DELEGATION_LEVEL=0

# ============================================
# DEX AGGREGATORS
# ============================================
# 1inch
ENABLE_1INCH=true
ONEINCH_API_KEY=
ONEINCH_ROUTER_V5=0x1111111254EEB25477B68fb85Ed929f73A960582

# 0x
ENABLE_0X=true
ZEROX_API_KEY=
ZEROX_API_URL=https://api.0x.org
ZEROX_EXCHANGE_PROXY=0xDef1C0ded9bec7F1a1670819833240f027b25EfF

# ParaSwap
ENABLE_PARASWAP=true
PARASWAP_AUGUSTUS=0xDEF171Fe48CF0115B1d80b88dc8eAB59176FEe57

# Uniswap V2 (fallback)
FALLBACK_UNISWAP=true
UNISWAP_V2_ROUTER_MONAD=0xfb8e1c3b833f9e67a71c859a132cf783b645e436
UNISWAP_V2_FACTORY_MONAD=0x733e88f248b742db6c14c0b1713af5ad7fdd59d0

# ============================================
# MEV PROTECTION
# ============================================
ENABLE_FLASHBOTS=true
FLASHBOTS_RPC=https://rpc.flashbots.net
ENABLE_INTENTS=false
ENABLE_TEE=false

# ============================================
# GAS ORACLE
# ============================================
ETHGASSTATION_API_KEY=
BLOCKNAATIVE_API_KEY=

# ============================================
# MONITORING & ALERTS
# ============================================
# Logging
LOG_LEVEL=info

# Discord Webhook
DISCORD_WEBHOOK_URL=

# Telegram Bot
TELEGRAM_BOT_TOKEN=
TELEGRAM_CHAT_ID=

# Prometheus
ENABLE_METRICS=true
METRICS_PORT=9090

# ============================================
# RATE LIMITING
# ============================================
THROTTLE_TTL=60
THROTTLE_LIMIT=100

# ============================================
# CORS
# ============================================
CORS_ORIGIN=http://localhost:5173,http://localhost:3000,http://localhost:8080

# ============================================
# EXTERNAL SERVICES
# ============================================
# Pyth Oracle (for Monad/Base)
PYTH_CONTRACT_MONAD=0x2880aB155794e7179c9eE2e38200202908C17B43
PYTH_CONTRACT_BASE=0xA2aa501b19aff244D90cc15a4Cf739D2725B5729

# ============================================
# AI / OPENAI
# ============================================
# OpenAI API Key for AI strategy generation
# Get your API key from: https://platform.openai.com/api-keys
OPENAI_API_KEY=your-openai-api-key-here
